define(["jquery","core/ajax","core/templates","core/notification"],function(a,b,c,d){var e={recordvote:function(e,f,g,h){var i=b.call([{methodname:"mod_moodleoverflow_record_vote",args:{discussionid:e,postid:f,ratingid:g,userid:h}}]);return i[0].done(function(b){console.log(b);var e;e=1===g?{userupvoted:!1,userdownvoted:!0,canchange:!0,votes:b.postrating}:{userupvoted:!0,userdownvoted:!1,canchange:!0,votes:b.postrating},c.render("mod_moodleoverflow/postvoting",e).done(function(b,d){a(".votes").fadeOut("fast",function(){c.replaceNodeContents(a(".votes").find("p"),b,d),a(".votes").fadeIn("fast")}.bind(this))}).fail(d.exception)}).fail(d.exception),i}};return e});