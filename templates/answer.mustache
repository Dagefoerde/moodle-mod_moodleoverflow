
<style>

        {{! The Votes. }}
    .moodleoverflowpost td.votecell {
        float:left;
        width:43px;
        overflow:hidden
    }
    .moodleoverflowpost td.votecell .votes {
        text-align:center;
        display:block;
        margin:0px 8px 0px 0px !important;
    }
    .moodleoverflowpost td.votecell .votes p {
        margin-top: 0;
        margin-bottom: 0;
    }
    .moodleoverflowpost td.votecell .votes .icon {
        width: 24px;
        height: 24px;
        color: #00aa00;
        margin: 0px !important;
    }

        {{! The Answers. }}
    .moodleoverflowpost td.answercell {
        vertical-align: top;
        width: 100%;
    }
    .moodleoverflowpost td.answercell .post-text {
        width: 100%;
        margin-bottom: 5px;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }
    .moodleoverflowpost td.answercell .comment-by {
        color: #848d95;
    }
    .moodleoverflowpost td.answercell .comment-commands {
        text-align: right;
    }

        {{! The Info-Box.  }}
    .moodleoverflowpost td.answercell table.post-info {
        margin-bottom: 4px;
        width: 100%;
    }

    .moodleoverflowpost td.answercell table.post-info td.rightbox {
        text-align: right;
        vertical-align: bottom;
    }
    .moodleoverflowpost td.answercell table.post-info td.rightbox .post-menu {
        padding-top: 2px;
    }
    .moodleoverflowpost td.answercell table.post-info td.rightbox .post-menu > a {
        padding: 0 3px 2px;
    }
    .moodleoverflowpost td.answercell table.post-info td.rightbox .post-menu > * {
        display: inline-block;
    }
    .moodleoverflowpost td.answercell table.post-info td.rightbox .status {
        color: #848d95;
    }
    .moodleoverflowpost td.answercell table.post-info td.rightbox .status .icon {
        width: 24px;
        height: 20px;
    }

    .moodleoverflowpost td.answercell table.post-info td.leftbox {
        text-align: left;
        vertical-align: top;
    }
    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info {
        box-sizing: border-box;
        padding: 5px 6px 7px 7px;
        color: #848d95;
    }
    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info::before {
        content: "";
        display: table;
    }
    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info::after {
        clear: both;
    }

    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info .user-action-time {
        margin-top: 1px;
        margin-bottom: 4px;
        white-space: nowrap;
    }

    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info .user-avatar {
        border-collapse: separate;
        float: left;
        width: 32px;
        height: 32px;
        border-radius: 1px;
    }
    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info .user-details {
        float: left;
        width: 100%;
        line-height: 17px;
        word-wrap: break-word;
    }
    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info .user-avatar + .user-details {
        margin-left:8px;
        width: calc(100% - 40px);
    }
    .moodleoverflowpost td.answercell table.post-info td.leftbox .user-info .user-details .-flair {
        display: block;
    }


</style>

{{! Print an anchor if the post is the first unread post of the discussion. }}
{{# isfirstunread}}
    <a id="unread"></a>
{{/ isfirstunread}}

{{! Print the anchor to the post. }}
<a id="p{{ postid }}"></a>

{{! Start the post. Mark it read or unread. }}
<div class="moodleoverflowpost clearfix{{ postclass }}{{# isfirstpost}} firstpost starter{{/isfirstpost}}" role="region" aria-label="{{ discussionby }}">

    <table>
        <tbody>
            <tr>
                <td class="votecell">
                    <div class="votes">
                        {{! Did the current user upvoted this post? }}
                        {{#userupvoted}}
                            {{# pix}} vote/upvoted, moodleoverflow {{/ pix}}
                        {{/userupvoted}}
                        {{^userupvoted}}
                            <a href="{{{ upvotelink }}}">
                                {{# pix}} vote/up, moodleoverflow {{/ pix}}
                            </a>
                        {{/userupvoted}}

                        {{! Display the amount of votes. }}
                        <p>{{ votes }}</p>

                        {{! Did the current user upvoted this post? }}
                        {{#userdownvoted}}
                            {{# pix}} vote/downvoted, moodleoverflow {{/ pix}}
                        {{/userdownvoted}}
                        {{^userdownvoted}}
                            <a href="{{{ downvotelink }}}">
                                {{# pix}} vote/down, moodleoverflow {{/ pix}}
                            </a>
                        {{/userdownvoted}}
                    </div>
                </td>
                <td class="answercell">
                    <div class="post-text">
                        {{{ postcontent }}}
                    </div>
                    <table class="post-info">
                        <tbody>
                            <tr>
                                <td class="leftbox">
                                    <div class="user-info">
                                        <div class="user-avatar">
                                            {{{ picture }}}
                                        </div>
                                        <div class="user-details">
                                            {{{ byname }}}
                                            <div class="-flair">
                                                <div class="user-action-time">
                                                    {{ bydate }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="rightbox">
                                    <div class="status">

                                        {{! The topics starters mark. }}
                                        {{#statusstarter}}{{#pix}} status/check_green, moodleoverflow {{/pix}}{{/statusstarter}}

                                        {{! The teachers mark. }}
                                        {{#statusteacher}}{{#pix}} status/check_orange, moodleoverflow {{/pix}}{{/statusteacher}}

                                        {{! The displayed text. }}
                                        {{#statusstarter}}
                                            {{^statusteacher}}
                                                The question owner accepted this as the best answer.
                                            {{/statusteacher}}
                                            {{#statusteacher}}
                                                The question owner and a teacher accepted this as the best answer.
                                            {{/statusteacher}}
                                        {{/statusstarter}}
                                        {{^statusstarter}}
                                            {{#statusteacher}}
                                                This post is marked as most helpful by the teacher.
                                            {{/statusteacher}}
                                        {{/statusstarter}}
                                    </div>
                                    <div class="post-menu">
                                        {{{ commands }}}
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </td>
            </tr>
        </tbody>
    </table>

</div>